{"ast":null,"code":"import React, { useState, useRef, useEffect } from 'react';\nimport { useMove, clampUseMovePosition } from '@mantine/hooks';\nimport { Thumb } from '../Thumb/Thumb.js';\nimport useStyles from './Saturation.styles.js';\nimport { convertHsvaTo } from '../converters/converters.js';\nfunction Saturation(_ref) {\n  let {\n    value,\n    onChange,\n    onChangeEnd,\n    focusable = true,\n    __staticSelector = \"saturation\",\n    size,\n    color,\n    saturationLabel,\n    classNames,\n    styles,\n    unstyled,\n    variant\n  } = _ref;\n  const {\n    classes\n  } = useStyles(null, {\n    classNames,\n    styles,\n    name: __staticSelector,\n    unstyled,\n    variant,\n    size\n  });\n  const [position, setPosition] = useState({\n    x: value.s / 100,\n    y: 1 - value.v / 100\n  });\n  const positionRef = useRef(position);\n  const {\n    ref\n  } = useMove(_ref2 => {\n    let {\n      x,\n      y\n    } = _ref2;\n    positionRef.current = {\n      x,\n      y\n    };\n    onChange({\n      s: Math.round(x * 100),\n      v: Math.round((1 - y) * 100)\n    });\n  }, {\n    onScrubEnd: () => {\n      const {\n        x,\n        y\n      } = positionRef.current;\n      onChangeEnd({\n        s: Math.round(x * 100),\n        v: Math.round((1 - y) * 100)\n      });\n    }\n  });\n  useEffect(() => {\n    setPosition({\n      x: value.s / 100,\n      y: 1 - value.v / 100\n    });\n  }, [value.s, value.v]);\n  const handleArrow = (event, pos) => {\n    event.preventDefault();\n    const _position = clampUseMovePosition(pos);\n    onChange({\n      s: Math.round(_position.x * 100),\n      v: Math.round((1 - _position.y) * 100)\n    });\n    onChangeEnd({\n      s: Math.round(_position.x * 100),\n      v: Math.round((1 - _position.y) * 100)\n    });\n  };\n  const handleKeyDown = event => {\n    switch (event.key) {\n      case \"ArrowUp\":\n        {\n          handleArrow(event, {\n            y: position.y - 0.05,\n            x: position.x\n          });\n          break;\n        }\n      case \"ArrowDown\":\n        {\n          handleArrow(event, {\n            y: position.y + 0.05,\n            x: position.x\n          });\n          break;\n        }\n      case \"ArrowRight\":\n        {\n          handleArrow(event, {\n            x: position.x + 0.05,\n            y: position.y\n          });\n          break;\n        }\n      case \"ArrowLeft\":\n        {\n          handleArrow(event, {\n            x: position.x - 0.05,\n            y: position.y\n          });\n          break;\n        }\n    }\n  };\n  return /* @__PURE__ */React.createElement(\"div\", {\n    className: classes.saturation,\n    ref,\n    role: \"slider\",\n    \"aria-label\": saturationLabel,\n    \"aria-valuenow\": position.x,\n    \"aria-valuetext\": convertHsvaTo(\"rgba\", value),\n    tabIndex: focusable ? 0 : -1,\n    onKeyDown: handleKeyDown\n  }, /* @__PURE__ */React.createElement(\"div\", {\n    className: classes.saturationOverlay,\n    style: {\n      backgroundColor: `hsl(${value.h}, 100%, 50%)`\n    }\n  }), /* @__PURE__ */React.createElement(\"div\", {\n    className: classes.saturationOverlay,\n    style: {\n      backgroundImage: \"linear-gradient(90deg, #fff, transparent)\"\n    }\n  }), /* @__PURE__ */React.createElement(\"div\", {\n    className: classes.saturationOverlay,\n    style: {\n      backgroundImage: \"linear-gradient(0deg, #000, transparent)\"\n    }\n  }), /* @__PURE__ */React.createElement(Thumb, {\n    __staticSelector,\n    classNames,\n    styles,\n    position,\n    className: classes.saturationThumb,\n    style: {\n      backgroundColor: color\n    },\n    size\n  }));\n}\nSaturation.displayName = \"@mantine/core/Saturation\";\nexport { Saturation };","map":{"version":3,"sources":["../../../src/ColorPicker/Saturation/Saturation.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useMove, clampUseMovePosition, UseMovePosition } from '@mantine/hooks';\nimport { DefaultProps, MantineSize, Selectors } from '@mantine/styles';\nimport { HsvaColor } from '../types';\nimport { Thumb, ThumbStylesNames } from '../Thumb/Thumb';\nimport useStyles from './Saturation.styles';\nimport { convertHsvaTo } from '../converters';\n\nexport type SaturationStylesNames =\n  | Exclude<Selectors<typeof useStyles>, 'saturationOverlay' | 'saturationThumb'>\n  | ThumbStylesNames;\n\ninterface SaturationProps extends DefaultProps<SaturationStylesNames> {\n  variant?: string;\n  value: HsvaColor;\n  onChange(color: Partial<HsvaColor>): void;\n  onChangeEnd(color: Partial<HsvaColor>): void;\n  saturationLabel?: string;\n  size: MantineSize;\n  color: string;\n  focusable?: boolean;\n  __staticSelector?: string;\n}\n\nexport function Saturation({\n  value,\n  onChange,\n  onChangeEnd,\n  focusable = true,\n  __staticSelector = 'saturation',\n  size,\n  color,\n  saturationLabel,\n  classNames,\n  styles,\n  unstyled,\n  variant,\n}: SaturationProps) {\n  const { classes } = useStyles(null, {\n    classNames,\n    styles,\n    name: __staticSelector,\n    unstyled,\n    variant,\n    size,\n  });\n\n  const [position, setPosition] = useState({ x: value.s / 100, y: 1 - value.v / 100 });\n  const positionRef = useRef(position);\n\n  const { ref } = useMove(\n    ({ x, y }) => {\n      positionRef.current = { x, y };\n      onChange({ s: Math.round(x * 100), v: Math.round((1 - y) * 100) });\n    },\n    {\n      onScrubEnd: () => {\n        const { x, y } = positionRef.current;\n        onChangeEnd({ s: Math.round(x * 100), v: Math.round((1 - y) * 100) });\n      },\n    }\n  );\n\n  useEffect(() => {\n    setPosition({ x: value.s / 100, y: 1 - value.v / 100 });\n  }, [value.s, value.v]);\n\n  const handleArrow = (event: React.KeyboardEvent<HTMLDivElement>, pos: UseMovePosition) => {\n    event.preventDefault();\n    const _position = clampUseMovePosition(pos);\n    onChange({ s: Math.round(_position.x * 100), v: Math.round((1 - _position.y) * 100) });\n    onChangeEnd({ s: Math.round(_position.x * 100), v: Math.round((1 - _position.y) * 100) });\n  };\n\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLDivElement>) => {\n    switch (event.key) {\n      case 'ArrowUp': {\n        handleArrow(event, { y: position.y - 0.05, x: position.x });\n        break;\n      }\n\n      case 'ArrowDown': {\n        handleArrow(event, { y: position.y + 0.05, x: position.x });\n        break;\n      }\n\n      case 'ArrowRight': {\n        handleArrow(event, { x: position.x + 0.05, y: position.y });\n        break;\n      }\n\n      case 'ArrowLeft': {\n        handleArrow(event, { x: position.x - 0.05, y: position.y });\n        break;\n      }\n    }\n  };\n\n  return (\n    <div\n      className={classes.saturation}\n      ref={ref}\n      role=\"slider\"\n      aria-label={saturationLabel}\n      aria-valuenow={position.x}\n      aria-valuetext={convertHsvaTo('rgba', value)}\n      tabIndex={focusable ? 0 : -1}\n      onKeyDown={handleKeyDown}\n    >\n      <div\n        className={classes.saturationOverlay}\n        style={{ backgroundColor: `hsl(${value.h}, 100%, 50%)` }}\n      />\n\n      <div\n        className={classes.saturationOverlay}\n        style={{ backgroundImage: 'linear-gradient(90deg, #fff, transparent)' }}\n      />\n\n      <div\n        className={classes.saturationOverlay}\n        style={{ backgroundImage: 'linear-gradient(0deg, #000, transparent)' }}\n      />\n\n      <Thumb\n        __staticSelector={__staticSelector}\n        classNames={classNames}\n        styles={styles}\n        position={position}\n        className={classes.saturationThumb}\n        style={{ backgroundColor: color }}\n        size={size}\n      />\n    </div>\n  );\n}\n\nSaturation.displayName = '@mantine/core/Saturation';\n"]},"metadata":{},"sourceType":"module"}