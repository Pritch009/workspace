{"ast":null,"code":"import { findTabbableDescendants } from './tabbable.js';\nfunction scopeTab(node, event) {\n  const tabbable = findTabbableDescendants(node);\n  if (!tabbable.length) {\n    event.preventDefault();\n    return;\n  }\n  const finalTabbable = tabbable[event.shiftKey ? 0 : tabbable.length - 1];\n  const root = node.getRootNode();\n  const leavingFinalTabbable = finalTabbable === root.activeElement || node === root.activeElement;\n  if (!leavingFinalTabbable) {\n    return;\n  }\n  event.preventDefault();\n  const target = tabbable[event.shiftKey ? tabbable.length - 1 : 0];\n  if (target) {\n    target.focus();\n  }\n}\nexport { scopeTab };","map":{"version":3,"sources":["../../src/use-focus-trap/scope-tab.ts"],"names":[],"mappings":";AACO,SAAS,QAAQ,CAAC,IAAI,EAAE,KAAK,EAAE;EACpC,MAAM,QAAQ,GAAG,uBAAuB,CAAC,IAAI,CAAC;EAC9C,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE;IACpB,KAAK,CAAC,cAAc,CAAA,CAAE;IACtB;EACJ;EACE,MAAM,aAAa,GAAG,QAAQ,CAAC,KAAK,CAAC,QAAQ,GAAG,CAAC,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;EACxE,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAA,CAAE;EAC/B,MAAM,oBAAoB,GAAG,aAAa,KAAK,IAAI,CAAC,aAAa,IAAI,IAAI,KAAK,IAAI,CAAC,aAAa;EAChG,IAAI,CAAC,oBAAoB,EAAE;IACzB;EACJ;EACE,KAAK,CAAC,cAAc,CAAA,CAAE;EACtB,MAAM,MAAM,GAAG,QAAQ,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;EACjE,IAAI,MAAM,EAAE;IACV,MAAM,CAAC,KAAK,CAAA,CAAE;EAClB;AACA","sourcesContent":["import { findTabbableDescendants } from './tabbable';\n\nexport function scopeTab(node: HTMLElement, event: KeyboardEvent) {\n  const tabbable = findTabbableDescendants(node);\n  if (!tabbable.length) {\n    event.preventDefault();\n    return;\n  }\n  const finalTabbable = tabbable[event.shiftKey ? 0 : tabbable.length - 1];\n  const root = node.getRootNode() as unknown as DocumentOrShadowRoot;\n  const leavingFinalTabbable = finalTabbable === root.activeElement || node === root.activeElement;\n\n  if (!leavingFinalTabbable) {\n    return;\n  }\n\n  event.preventDefault();\n\n  const target = tabbable[event.shiftKey ? tabbable.length - 1 : 0];\n\n  if (target) {\n    target.focus();\n  }\n}\n"]},"metadata":{},"sourceType":"module"}