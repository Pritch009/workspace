{"ast":null,"code":"import React from 'react';\nimport { useComponentDefaultProps, rem } from '@mantine/styles';\nimport { closeOnEscape } from '@mantine/utils';\nimport { useFocusReturn } from '@mantine/hooks';\nimport { usePopoverContext } from '../Popover.context.js';\nimport useStyles from './PopoverDropdown.styles.js';\nimport { OptionalPortal } from '../../Portal/OptionalPortal.js';\nimport { Transition } from '../../Transition/Transition.js';\nimport { FocusTrap } from '../../FocusTrap/FocusTrap.js';\nimport { Box } from '../../Box/Box.js';\nimport { FloatingArrow } from '../../Floating/FloatingArrow/FloatingArrow.js';\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source) if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0) target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols) for (var prop of __getOwnPropSymbols(source)) {\n    if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop)) target[prop] = source[prop];\n  }\n  return target;\n};\nconst defaultProps = {};\nfunction PopoverDropdown(props) {\n  var _b;\n  const _a = useComponentDefaultProps(\"PopoverDropdown\", defaultProps, props),\n    {\n      style,\n      className,\n      children,\n      onKeyDownCapture\n    } = _a,\n    others = __objRest(_a, [\"style\", \"className\", \"children\", \"onKeyDownCapture\"]);\n  const ctx = usePopoverContext();\n  const {\n    classes,\n    cx\n  } = useStyles({\n    radius: ctx.radius,\n    shadow: ctx.shadow\n  }, {\n    name: ctx.__staticSelector,\n    classNames: ctx.classNames,\n    styles: ctx.styles,\n    unstyled: ctx.unstyled,\n    variant: ctx.variant\n  });\n  const returnFocus = useFocusReturn({\n    opened: ctx.opened,\n    shouldReturnFocus: ctx.returnFocus\n  });\n  const accessibleProps = ctx.withRoles ? {\n    \"aria-labelledby\": ctx.getTargetId(),\n    id: ctx.getDropdownId(),\n    role: \"dialog\"\n  } : {};\n  if (ctx.disabled) {\n    return null;\n  }\n  return /* @__PURE__ */React.createElement(OptionalPortal, __spreadProps(__spreadValues({}, ctx.portalProps), {\n    withinPortal: ctx.withinPortal\n  }), /* @__PURE__ */React.createElement(Transition, __spreadProps(__spreadValues({\n    mounted: ctx.opened\n  }, ctx.transitionProps), {\n    transition: ctx.transitionProps.transition || \"fade\",\n    duration: (_b = ctx.transitionProps.duration) != null ? _b : 150,\n    keepMounted: ctx.keepMounted,\n    exitDuration: typeof ctx.transitionProps.exitDuration === \"number\" ? ctx.transitionProps.exitDuration : ctx.transitionProps.duration\n  }), transitionStyles => {\n    var _a2, _b2;\n    return /* @__PURE__ */React.createElement(FocusTrap, {\n      active: ctx.trapFocus\n    }, /* @__PURE__ */React.createElement(Box, __spreadValues(__spreadProps(__spreadValues({}, accessibleProps), {\n      tabIndex: -1,\n      ref: ctx.floating,\n      style: __spreadProps(__spreadValues(__spreadValues({}, style), transitionStyles), {\n        zIndex: ctx.zIndex,\n        top: (_a2 = ctx.y) != null ? _a2 : 0,\n        left: (_b2 = ctx.x) != null ? _b2 : 0,\n        width: ctx.width === \"target\" ? void 0 : rem(ctx.width)\n      }),\n      className: cx(classes.dropdown, className),\n      onKeyDownCapture: closeOnEscape(ctx.onClose, {\n        active: ctx.closeOnEscape,\n        onTrigger: returnFocus,\n        onKeyDown: onKeyDownCapture\n      }),\n      \"data-position\": ctx.placement\n    }), others), children, /* @__PURE__ */React.createElement(FloatingArrow, {\n      ref: ctx.arrowRef,\n      arrowX: ctx.arrowX,\n      arrowY: ctx.arrowY,\n      visible: ctx.withArrow,\n      position: ctx.placement,\n      arrowSize: ctx.arrowSize,\n      arrowRadius: ctx.arrowRadius,\n      arrowOffset: ctx.arrowOffset,\n      arrowPosition: ctx.arrowPosition,\n      className: classes.arrow\n    })));\n  }));\n}\nPopoverDropdown.displayName = \"@mantine/core/PopoverDropdown\";\nexport { PopoverDropdown };","map":{"version":3,"sources":["../../../src/Popover/PopoverDropdown/PopoverDropdown.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport { DefaultProps, useComponentDefaultProps, rem } from '@mantine/styles';\nimport { closeOnEscape } from '@mantine/utils';\nimport { useFocusReturn } from '@mantine/hooks';\nimport { FloatingArrow } from '../../Floating';\nimport { Box } from '../../Box';\nimport { Transition } from '../../Transition';\nimport { FocusTrap } from '../../FocusTrap';\nimport { OptionalPortal } from '../../Portal';\nimport { usePopoverContext } from '../Popover.context';\nimport useStyles from './PopoverDropdown.styles';\n\nexport interface PopoverDropdownProps extends DefaultProps, React.ComponentPropsWithoutRef<'div'> {\n  /** Dropdown content */\n  children?: React.ReactNode;\n}\n\nconst defaultProps: Partial<PopoverDropdownProps> = {};\n\nexport function PopoverDropdown(props: PopoverDropdownProps) {\n  const { style, className, children, onKeyDownCapture, ...others } = useComponentDefaultProps(\n    'PopoverDropdown',\n    defaultProps,\n    props\n  );\n\n  const ctx = usePopoverContext();\n  const { classes, cx } = useStyles(\n    { radius: ctx.radius, shadow: ctx.shadow },\n    {\n      name: ctx.__staticSelector,\n      classNames: ctx.classNames,\n      styles: ctx.styles,\n      unstyled: ctx.unstyled,\n      variant: ctx.variant,\n    }\n  );\n\n  const returnFocus = useFocusReturn({\n    opened: ctx.opened,\n    shouldReturnFocus: ctx.returnFocus,\n  });\n\n  const accessibleProps = ctx.withRoles\n    ? {\n        'aria-labelledby': ctx.getTargetId(),\n        id: ctx.getDropdownId(),\n        role: 'dialog',\n      }\n    : {};\n\n  if (ctx.disabled) {\n    return null;\n  }\n\n  return (\n    <OptionalPortal {...ctx.portalProps} withinPortal={ctx.withinPortal}>\n      <Transition\n        mounted={ctx.opened}\n        {...ctx.transitionProps}\n        transition={ctx.transitionProps.transition || 'fade'}\n        duration={ctx.transitionProps.duration ?? 150}\n        keepMounted={ctx.keepMounted}\n        exitDuration={\n          typeof ctx.transitionProps.exitDuration === 'number'\n            ? ctx.transitionProps.exitDuration\n            : ctx.transitionProps.duration\n        }\n      >\n        {(transitionStyles) => (\n          <FocusTrap active={ctx.trapFocus}>\n            <Box\n              {...accessibleProps}\n              tabIndex={-1}\n              ref={ctx.floating}\n              style={{\n                ...style,\n                ...transitionStyles,\n                zIndex: ctx.zIndex,\n                top: ctx.y ?? 0,\n                left: ctx.x ?? 0,\n                width: ctx.width === 'target' ? undefined : rem(ctx.width),\n              }}\n              className={cx(classes.dropdown, className)}\n              onKeyDownCapture={closeOnEscape(ctx.onClose, {\n                active: ctx.closeOnEscape,\n                onTrigger: returnFocus,\n                onKeyDown: onKeyDownCapture,\n              })}\n              data-position={ctx.placement}\n              {...others}\n            >\n              {children}\n\n              <FloatingArrow\n                ref={ctx.arrowRef}\n                arrowX={ctx.arrowX}\n                arrowY={ctx.arrowY}\n                visible={ctx.withArrow}\n                position={ctx.placement}\n                arrowSize={ctx.arrowSize}\n                arrowRadius={ctx.arrowRadius}\n                arrowOffset={ctx.arrowOffset}\n                arrowPosition={ctx.arrowPosition}\n                className={classes.arrow}\n              />\n            </Box>\n          </FocusTrap>\n        )}\n      </Transition>\n    </OptionalPortal>\n  );\n}\n\nPopoverDropdown.displayName = '@mantine/core/PopoverDropdown';\n"]},"metadata":{},"sourceType":"module"}