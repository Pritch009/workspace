{"ast":null,"code":"import { attachFunctions } from '../../functions/attach-functions.js';\nimport { getBreakpointValue } from '../../functions/fns/breakpoints/breakpoints.js';\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nfunction mergeTheme(currentTheme, themeOverride) {\n  var _a;\n  if (!themeOverride) {\n    return currentTheme;\n  }\n  const result = Object.keys(currentTheme).reduce((acc, key) => {\n    if (key === \"headings\" && themeOverride.headings) {\n      const sizes = themeOverride.headings.sizes ? Object.keys(currentTheme.headings.sizes).reduce((headingsAcc, h) => {\n        headingsAcc[h] = __spreadValues(__spreadValues({}, currentTheme.headings.sizes[h]), themeOverride.headings.sizes[h]);\n        return headingsAcc;\n      }, {}) : currentTheme.headings.sizes;\n      return __spreadProps(__spreadValues({}, acc), {\n        headings: __spreadProps(__spreadValues(__spreadValues({}, currentTheme.headings), themeOverride.headings), {\n          sizes\n        })\n      });\n    }\n    if (key === \"breakpoints\" && themeOverride.breakpoints) {\n      const mergedBreakpoints = __spreadValues(__spreadValues({}, currentTheme.breakpoints), themeOverride.breakpoints);\n      return __spreadProps(__spreadValues({}, acc), {\n        breakpoints: Object.fromEntries(Object.entries(mergedBreakpoints).sort((a, b) => getBreakpointValue(a[1]) - getBreakpointValue(b[1])))\n      });\n    }\n    acc[key] = typeof themeOverride[key] === \"object\" ? __spreadValues(__spreadValues({}, currentTheme[key]), themeOverride[key]) : typeof themeOverride[key] === \"number\" || typeof themeOverride[key] === \"boolean\" || typeof themeOverride[key] === \"function\" ? themeOverride[key] : themeOverride[key] || currentTheme[key];\n    return acc;\n  }, {});\n  if ((themeOverride == null ? void 0 : themeOverride.fontFamily) && !((_a = themeOverride == null ? void 0 : themeOverride.headings) == null ? void 0 : _a.fontFamily)) {\n    result.headings.fontFamily = themeOverride.fontFamily;\n  }\n  if (!(result.primaryColor in result.colors)) {\n    throw new Error(\"MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more \\u2013 https://mantine.dev/theming/colors/#primary-color\");\n  }\n  return result;\n}\nfunction mergeThemeWithFunctions(currentTheme, themeOverride) {\n  return attachFunctions(mergeTheme(currentTheme, themeOverride));\n}\nexport { mergeTheme, mergeThemeWithFunctions };","map":{"version":3,"sources":["../../../../src/theme/utils/merge-theme/merge-theme.ts"],"names":[],"mappings":"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","sourcesContent":["import { MantineThemeOverride, MantineThemeBase, MantineTheme } from '../../types';\nimport { attachFunctions } from '../../functions/attach-functions';\nimport { getBreakpointValue } from '../../functions/fns/breakpoints/breakpoints';\n\nexport function mergeTheme(\n  currentTheme: MantineThemeBase,\n  themeOverride?: MantineThemeOverride\n): MantineThemeBase {\n  if (!themeOverride) {\n    return currentTheme;\n  }\n\n  // @ts-ignore\n  const result: MantineThemeBase = Object.keys(currentTheme).reduce((acc, key) => {\n    if (key === 'headings' && themeOverride.headings) {\n      const sizes = themeOverride.headings.sizes\n        ? Object.keys(currentTheme.headings.sizes).reduce((headingsAcc, h) => {\n            // eslint-disable-next-line no-param-reassign\n            headingsAcc[h] = {\n              ...currentTheme.headings.sizes[h],\n              ...themeOverride.headings.sizes[h],\n            };\n            return headingsAcc;\n          }, {} as MantineThemeBase['headings']['sizes'])\n        : currentTheme.headings.sizes;\n      return {\n        ...acc,\n        headings: {\n          ...currentTheme.headings,\n          ...themeOverride.headings,\n          sizes,\n        },\n      };\n    }\n\n    if (key === 'breakpoints' && themeOverride.breakpoints) {\n      const mergedBreakpoints = { ...currentTheme.breakpoints, ...themeOverride.breakpoints };\n\n      return {\n        ...acc,\n        breakpoints: Object.fromEntries(\n          Object.entries(mergedBreakpoints).sort(\n            (a, b) => getBreakpointValue(a[1]) - getBreakpointValue(b[1])\n          )\n        ),\n      };\n    }\n\n    acc[key] =\n      typeof themeOverride[key] === 'object'\n        ? { ...currentTheme[key], ...themeOverride[key] }\n        : typeof themeOverride[key] === 'number' ||\n          typeof themeOverride[key] === 'boolean' ||\n          typeof themeOverride[key] === 'function'\n        ? themeOverride[key]\n        : themeOverride[key] || currentTheme[key];\n    return acc;\n  }, {} as MantineThemeBase);\n\n  if (themeOverride?.fontFamily && !themeOverride?.headings?.fontFamily) {\n    result.headings.fontFamily = themeOverride.fontFamily as string;\n  }\n\n  if (!(result.primaryColor in result.colors)) {\n    throw new Error(\n      'MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more â€“ https://mantine.dev/theming/colors/#primary-color'\n    );\n  }\n\n  return result;\n}\n\nexport function mergeThemeWithFunctions(\n  currentTheme: MantineThemeBase,\n  themeOverride?: MantineThemeOverride\n): MantineTheme {\n  return attachFunctions(mergeTheme(currentTheme, themeOverride));\n}\n"]},"metadata":{},"sourceType":"module"}